<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antibiotic Spectrum Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; @apply bg-slate-100; }
        label { @apply block text-sm font-medium text-slate-700 mb-1; }
        select {
            @apply mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 sm:text-sm p-2.5 bg-white text-slate-900;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
            appearance: none;
        }
        fieldset { @apply border border-slate-200 p-5 rounded-lg shadow-sm bg-white; }
        legend { @apply text-lg font-semibold text-slate-800 px-2 -ml-2; }
        .input-group { @apply flex flex-col justify-end; }

        /* --- Result Table Styling --- */
        .result-container { @apply mt-8 p-6 bg-white border border-slate-200 rounded-lg shadow-md; }
        .result-table { @apply min-w-full divide-y divide-slate-200 border border-slate-300; }
        .result-table th { @apply px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider bg-slate-50; }
        .result-table td { @apply px-4 py-3 whitespace-nowrap text-sm border-l border-slate-200; }
        .result-table tbody tr td:first-child { @apply font-medium text-slate-900 bg-slate-50 border-l-0; } /* Organism name cell */
        /* Activity Colors */
        .activity-good { @apply bg-green-100 border-green-200 text-green-800; }
        .activity-some { @apply bg-yellow-100 border-yellow-200 text-yellow-800; }
        .activity-poor { @apply bg-red-100 border-red-200 text-red-800; }
        /* Centering text in activity cells */
         .result-table td.activity-cell { @apply text-center font-semibold; }


        .legend-box { @apply mt-4 flex items-center justify-center space-x-4 p-3 bg-slate-50 rounded border border-slate-200; }
        .legend-item { @apply flex items-center text-xs text-slate-700; }
        .legend-color { @apply w-4 h-4 rounded border mr-1.5; }

        .disclaimer { @apply mt-6 text-xs text-slate-500 border-t border-slate-200 pt-4; }
        button { @apply px-6 py-2.5 text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-150 ease-in-out disabled:opacity-60 disabled:cursor-not-allowed; }
        button#show-coverage-btn { @apply bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500; }
        button#reset-btn { @apply bg-slate-200 text-slate-800 hover:bg-slate-300 focus:ring-slate-400; }
        .button-container-box { @apply mt-6 pt-6 pb-4 px-4 bg-slate-50 border border-slate-200 rounded-lg shadow-sm; } /* Adjusted margin */
        .main-container { @apply max-w-6xl mx-auto bg-gradient-to-b from-white to-slate-50 p-6 md:p-8 rounded-xl shadow-xl border border-slate-200; } /* Even wider container */
        .main-title { @apply text-3xl font-bold text-slate-800 mb-2 text-center; }
        .sub-title { @apply text-base text-slate-600 mb-8 text-center; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="main-container">
        <h1 class="main-title">Antibiotic Spectrum Guide</h1>
        <p class="sub-title">Select an organism or group to view general antibiotic activity based on common spectrum patterns.</p>

        <form id="antibiotic-form" class="space-y-6">
            <fieldset>
                <legend>Select Organism / Group</legend>
                 <div class="input-group max-w-lg mx-auto"> {/* Centered dropdown */}
                    <label for="organism-select">Organism / Group:</label>
                    <select id="organism-select" name="organism-select">
                        <option value="">-- Select an Option --</option>
                        <option value="Enterococcus">Enterococcus</option>
                        <option value="MRSA">MRSA</option>
                        <option value="MSSA">MSSA</option>
                        <option value="Streptococcus_pneumoniae">Streptococcus pneumoniae</option>
                        <option value="Beta_hemolytic_strep">β-hemolytic strep (e.g. GAS, GBS)</option>
                        <option value="Gram_negatives_community">Gram negatives: community</option>
                        <option value="Gram_negatives_hospital">Gram negatives: hospital</option>
                        <option value="Enterobacter_other_AmpC">Enterobacter, other AmpC-producers</option>
                        <option value="Pseudomonas">Pseudomonas</option>
                        <option value="ESBL_producers">ESBL-producers</option>
                        <option value="Mouth_anaerobes">Mouth anaerobes</option>
                        <option value="Gut_anaerobes">Gut anaerobes</option>
                        <option value="Atypicals">Atypicals</option>
                    </select>
                </div>
            </fieldset>

            <!-- Button Container Box -->
            <div class="button-container-box">
                <div class="flex justify-center space-x-4">
                    <button type="button" id="show-coverage-btn">Show Coverage</button>
                    <button type="reset" id="reset-btn">Reset Form</button>
                </div>
            </div>
            <!-- End Button Container Box -->
        </form>

        <div id="result-container" class="result-container" style="display: none;">
            <h3 class="text-lg font-semibold text-slate-800 mb-4 text-center">Antibiotic Activity Spectrum</h3>
            <div class="overflow-x-auto">
                 <div id="result-table-container">
                     <!-- JS will populate the table here -->
                 </div>
            </div>

            <div class="legend-box">
                 <div class="legend-item"><span class="legend-color border-green-400 bg-green-100"></span>Good Activity</div>
                 <div class="legend-item"><span class="legend-color border-yellow-400 bg-yellow-100"></span>Some Activity</div>
                 <div class="legend-item"><span class="legend-color border-red-400 bg-red-100"></span>Little/No Activity</div>
            </div>

             <p class="disclaimer">
                <strong>Disclaimer:</strong> This tool provides a general guide based on typical antibiotic spectra (primarily derived from the provided "Antibiotic Spectrum Guide" image). **It is NOT a substitute for local antibiograms, susceptibility testing, infectious disease consultation, or clinical judgment.** Resistance patterns vary significantly by region and institution. This guide does not account for patient allergies, drug interactions, pharmacokinetics, specific infection sites, or detailed resistance mechanisms (e.g., VRE vs. non-VRE Enterococcus distinction is simplified). Use for educational purposes only.
            </p>
        </div>
    </div>

    <script>
        // --- Data based primarily on Image 3 ("Antibiotic Spectrum Guide") ---
        const coverageData = {
            "Enterococcus": {
                "Vancomycin": "good", // Note: VRE exists! This is simplified.
                "Ampicillin": "some", // Good for E. faecalis, poor for E. faecium often
                "Nafcillin": "poor",
                "Unasyn": "some", // Similar to Ampicillin
                "Augmentin": "some",
                "Cefazolin": "poor",
                "Ceftriaxone": "poor",
                "Ceftazidime": "poor",
                "Cefepime": "poor",
                "Piperacillin/tazobactam": "some", // Often used, but resistance rising
                "Meropenem": "some", // Variable, often less reliable than Pip/Tazo
                "Ertapenem": "poor",
                "Azithromycin": "poor",
                "Ciprofloxacin": "some", // Resistance common
                "Levofloxacin": "some", // Resistance common
                "TMP/SMX": "poor", // Generally poor
                "Doxycycline": "some", // Can have activity
                "Clindamycin": "poor",
                "Metronidazole": "poor"
            },
            "MRSA": {
                "Vancomycin": "good",
                "Ampicillin": "poor",
                "Nafcillin": "poor",
                "Unasyn": "poor",
                "Augmentin": "poor",
                "Cefazolin": "poor",
                "Ceftriaxone": "poor",
                "Ceftazidime": "poor",
                "Cefepime": "poor",
                "Piperacillin/tazobactam": "poor",
                "Meropenem": "poor",
                "Ertapenem": "poor",
                "Azithromycin": "poor",
                "Ciprofloxacin": "poor",
                "Levofloxacin": "poor",
                "TMP/SMX": "good", // Community MRSA often susceptible
                "Doxycycline": "good", // Community MRSA often susceptible
                "Clindamycin": "good", // Check D-test if Erythro resistant
                "Metronidazole": "poor"
            },
            "MSSA": {
                "Vancomycin": "good",
                "Ampicillin": "poor", // Due to penicillinase
                "Nafcillin": "good",
                "Unasyn": "good",
                "Augmentin": "good",
                "Cefazolin": "good",
                "Ceftriaxone": "good",
                "Ceftazidime": "poor", // Generally less active vs Staph
                "Cefepime": "good",
                "Piperacillin/tazobactam": "good",
                "Meropenem": "good",
                "Ertapenem": "good",
                "Azithromycin": "some",
                "Ciprofloxacin": "some",
                "Levofloxacin": "some",
                "TMP/SMX": "good",
                "Doxycycline": "good",
                "Clindamycin": "good",
                "Metronidazole": "poor"
            },
             "Streptococcus_pneumoniae": {
                "Vancomycin": "good", // For resistant strains
                "Ampicillin": "some", // Pen-resistance exists
                "Nafcillin": "poor",
                "Unasyn": "some",
                "Augmentin": "good", // Higher dose often used
                "Cefazolin": "poor", // Generally not used
                "Ceftriaxone": "good", // Meningitis doses differ
                "Ceftazidime": "poor",
                "Cefepime": "good",
                "Piperacillin/tazobactam": "some",
                "Meropenem": "good", // For resistant strains
                "Ertapenem": "some", // Less reliable than Meropenem
                "Azithromycin": "some", // Resistance common
                "Ciprofloxacin": "poor", // Not a respiratory FQ
                "Levofloxacin": "good", // Respiratory FQ
                "TMP/SMX": "some", // Resistance common
                "Doxycycline": "some",
                "Clindamycin": "some", // Resistance exists
                "Metronidazole": "poor"
            },
             "Beta_hemolytic_strep": { // e.g. GAS, GBS
                "Vancomycin": "good",
                "Ampicillin": "good", // Penicillin/Ampicillin are drugs of choice
                "Nafcillin": "poor",
                "Unasyn": "good",
                "Augmentin": "good",
                "Cefazolin": "good",
                "Ceftriaxone": "good",
                "Ceftazidime": "poor",
                "Cefepime": "good",
                "Piperacillin/tazobactam": "good",
                "Meropenem": "good",
                "Ertapenem": "good",
                "Azithromycin": "some", // Resistance exists
                "Ciprofloxacin": "poor",
                "Levofloxacin": "some",
                "TMP/SMX": "poor",
                "Doxycycline": "poor",
                "Clindamycin": "good", // Often used for toxin suppression (GAS) or allergy
                "Metronidazole": "poor"
            },
            "Gram_negatives_community": { // e.g., E. coli, Klebsiella, Proteus (non-hospital)
                "Vancomycin": "poor",
                "Ampicillin": "some", // Resistance common
                "Nafcillin": "poor",
                "Unasyn": "some", // Resistance common
                "Augmentin": "some", // Resistance common
                "Cefazolin": "some", // Resistance common
                "Ceftriaxone": "good",
                "Ceftazidime": "good",
                "Cefepime": "good",
                "Piperacillin/tazobactam": "good",
                "Meropenem": "good",
                "Ertapenem": "good", // Doesn't cover Pseudomonas/Acinetobacter
                "Azithromycin": "poor",
                "Ciprofloxacin": "good", // Resistance increasing
                "Levofloxacin": "good", // Resistance increasing
                "TMP/SMX": "good", // Resistance varies geographically (UTI)
                "Doxycycline": "poor",
                "Clindamycin": "poor",
                "Metronidazole": "poor"
            },
             "Gram_negatives_hospital": { // Broader resistance expected
                "Vancomycin": "poor",
                "Ampicillin": "poor",
                "Nafcillin": "poor",
                "Unasyn": "poor",
                "Augmentin": "poor",
                "Cefazolin": "poor",
                "Ceftriaxone": "some", // Significant resistance
                "Ceftazidime": "good", // Covers Pseudomonas
                "Cefepime": "good", // Broad GNR including Pseudo
                "Piperacillin/tazobactam": "good", // Broad GNR including Pseudo
                "Meropenem": "good", // Very broad, covers Pseudo, ESBL
                "Ertapenem": "some", // Covers ESBL E.coli/Klebsiella, NOT Pseudo
                "Azithromycin": "poor",
                "Ciprofloxacin": "some", // Resistance common
                "Levofloxacin": "some", // Resistance common
                "TMP/SMX": "some", // Variable, covers Stenotrophomonas sometimes
                "Doxycycline": "poor",
                "Clindamycin": "poor",
                "Metronidazole": "poor"
            },
             "Enterobacter_other_AmpC": {
                "Vancomycin": "poor",
                "Ampicillin": "poor",
                "Nafcillin": "poor",
                "Unasyn": "poor",
                "Augmentin": "poor",
                "Cefazolin": "poor",
                "Ceftriaxone": "poor", // AmpC inducible resistance
                "Ceftazidime": "some", // Can be induced
                "Cefepime": "good", // More stable to AmpC
                "Piperacillin/tazobactam": "some", // Can be induced/resisted
                "Meropenem": "good", // Drug of choice usually
                "Ertapenem": "good", // If not Pseudomonas/Acinetobacter
                "Azithromycin": "poor",
                "Ciprofloxacin": "some", // Resistance common
                "Levofloxacin": "some", // Resistance common
                "TMP/SMX": "some", // Variable
                "Doxycycline": "poor",
                "Clindamycin": "poor",
                "Metronidazole": "poor"
            },
             "Pseudomonas": {
                "Vancomycin": "poor",
                "Ampicillin": "poor",
                "Nafcillin": "poor",
                "Unasyn": "poor",
                "Augmentin": "poor",
                "Cefazolin": "poor",
                "Ceftriaxone": "poor",
                "Ceftazidime": "good",
                "Cefepime": "good",
                "Piperacillin/tazobactam": "good",
                "Meropenem": "good", // Includes Imipenem
                "Ertapenem": "poor",
                "Azithromycin": "poor",
                "Ciprofloxacin": "good", // Resistance common
                "Levofloxacin": "good", // Resistance common
                "TMP/SMX": "poor",
                "Doxycycline": "poor",
                "Clindamycin": "poor",
                "Metronidazole": "poor"
            },
            "ESBL_producers": { // e.g., E. coli, Klebsiella
                "Vancomycin": "poor",
                "Ampicillin": "poor",
                "Nafcillin": "poor",
                "Unasyn": "poor",
                "Augmentin": "poor",
                "Cefazolin": "poor",
                "Ceftriaxone": "poor",
                "Ceftazidime": "poor",
                "Cefepime": "some", // Controversial, often avoided
                "Piperacillin/tazobactam": "some", // Controversial, often avoided
                "Meropenem": "good", // Carbapenems are drugs of choice
                "Ertapenem": "good", // Good choice if not Pseudo/Acineto
                "Azithromycin": "poor",
                "Ciprofloxacin": "some", // Co-resistance common
                "Levofloxacin": "some", // Co-resistance common
                "TMP/SMX": "some", // Co-resistance common
                "Doxycycline": "poor",
                "Clindamycin": "poor",
                "Metronidazole": "poor"
            },
            "Mouth_anaerobes": { // e.g., Peptostreptococcus, Prevotella (oral)
                "Vancomycin": "good", // Gram positives
                "Ampicillin": "good",
                "Nafcillin": "poor",
                "Unasyn": "good",
                "Augmentin": "good",
                "Cefazolin": "some",
                "Ceftriaxone": "some",
                "Ceftazidime": "poor",
                "Cefepime": "some",
                "Piperacillin/tazobactam": "good",
                "Meropenem": "good",
                "Ertapenem": "good",
                "Azithromycin": "poor",
                "Ciprofloxacin": "poor",
                "Levofloxacin": "some", // Moxifloxacin better
                "TMP/SMX": "poor",
                "Doxycycline": "poor",
                "Clindamycin": "good", // Excellent typically
                "Metronidazole": "good" // Excellent typically, esp below diaphragm
            },
            "Gut_anaerobes": { // e.g., Bacteroides fragilis
                "Vancomycin": "poor", // Bacteroides resistant
                "Ampicillin": "poor", // Resistance common
                "Nafcillin": "poor",
                "Unasyn": "good",
                "Augmentin": "good",
                "Cefazolin": "poor",
                "Ceftriaxone": "poor",
                "Ceftazidime": "poor",
                "Cefepime": "poor",
                "Piperacillin/tazobactam": "good",
                "Meropenem": "good",
                "Ertapenem": "good",
                "Azithromycin": "poor",
                "Ciprofloxacin": "poor",
                "Levofloxacin": "some", // Moxifloxacin better
                "TMP/SMX": "poor",
                "Doxycycline": "poor",
                "Clindamycin": "some", // Resistance increasing for B. fragilis
                "Metronidazole": "good" // Excellent typically
            },
            "Atypicals": { // e.g., Mycoplasma, Chlamydia, Legionella
                "Vancomycin": "poor",
                "Ampicillin": "poor",
                "Nafcillin": "poor",
                "Unasyn": "poor",
                "Augmentin": "poor",
                "Cefazolin": "poor",
                "Ceftriaxone": "poor",
                "Ceftazidime": "poor",
                "Cefepime": "poor",
                "Piperacillin/tazobactam": "poor",
                "Meropenem": "poor",
                "Ertapenem": "poor",
                "Azithromycin": "good", // Macrolides are key
                "Ciprofloxacin": "some", // Legionella only
                "Levofloxacin": "good", // Respiratory FQs cover all
                "TMP/SMX": "poor",
                "Doxycycline": "good", // Covers most
                "Clindamycin": "poor",
                "Metronidazole": "poor"
            }
        };

        const antibiotics = [
            "Vancomycin", "Ampicillin", "Nafcillin", "Unasyn", "Augmentin", "Cefazolin",
            "Ceftriaxone", "Ceftazidime", "Cefepime", "Piperacillin/tazobactam",
            "Meropenem", "Ertapenem", "Azithromycin", "Ciprofloxacin", "Levofloxacin",
            "TMP/SMX", "Doxycycline", "Clindamycin", "Metronidazole"
        ];

        // Get references to form elements
        const form = document.getElementById('antibiotic-form');
        const organismSelect = document.getElementById('organism-select');
        const showCoverageBtn = document.getElementById('show-coverage-btn');
        const resetBtn = document.getElementById('reset-btn');
        const resultContainer = document.getElementById('result-container');
        const resultTableContainer = document.getElementById('result-table-container');

        function displayCoverage() {
            const selectedOrganism = organismSelect.value;
            if (!selectedOrganism) {
                resultContainer.style.display = 'none';
                return; // Don't display if nothing selected
            }

            const organismData = coverageData[selectedOrganism];
            if (!organismData) {
                resultTableContainer.innerHTML = '<p class="text-center text-red-600">Coverage data not found for selected organism.</p>';
                resultContainer.style.display = 'block';
                return;
            }

            // Build Table Header
            let tableHTML = '<table class="result-table"><thead><tr><th>Organism / Group</th>';
            antibiotics.forEach(abx => {
                tableHTML += `<th>${abx.replace('/', '/<wbr>')}</th>`; // Add word break opportunity
            });
            tableHTML += '</tr></thead><tbody>';

            // Build Table Body Row
            tableHTML += '<tr>';
            tableHTML += `<td>${selectedOrganism.replace(/_/g, ' ')}</td>`; // Display formatted name

            antibiotics.forEach(abx => {
                const activity = organismData[abx] || 'unknown'; // Handle if abx missing for an organism
                let activityClass = '';
                let activityText = ''; // Display text inside cell

                switch (activity) {
                    case 'good':
                        activityClass = 'activity-good';
                        activityText = '✓✓'; // Or 'Good'
                        break;
                    case 'some':
                        activityClass = 'activity-some';
                        activityText = '✓'; // Or 'Some'
                        break;
                    case 'poor':
                        activityClass = 'activity-poor';
                        activityText = '✕'; // Or 'Poor'
                        break;
                    default:
                         activityClass = 'bg-gray-100'; // Default for unknown/missing
                         activityText = '?';
                }
                tableHTML += `<td class="activity-cell ${activityClass}">${activityText}</td>`;
            });

            tableHTML += '</tr></tbody></table>';

            resultTableContainer.innerHTML = tableHTML;
            resultContainer.style.display = 'block';
            resultContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function resetForm() {
            form.reset();
            resultContainer.style.display = 'none';
            resultTableContainer.innerHTML = '';
             try { // Scroll to top
                form.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } catch (e) { /* ignore */ }
        }

        // --- Event Listeners ---
        showCoverageBtn.addEventListener('click', displayCoverage);
        resetBtn.addEventListener('click', resetForm);

        // Optional: Hide result if dropdown changes before clicking button again
        organismSelect.addEventListener('change', () => {
             if (resultContainer.style.display !== 'none') {
                  resultContainer.style.display = 'none';
             }
        });

        // --- Initial Setup ---
        resetForm(); // Initialize form state on load

    </script>

</body>
</html>
